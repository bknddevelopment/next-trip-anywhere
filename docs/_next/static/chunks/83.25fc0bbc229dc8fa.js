"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{83:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var c=r(5155),s=r(2115),n=r(5239);function l(e){let{src:t,poster:r,className:l="",priority:a=!1,onLoadStart:i,onLoadComplete:o}=e,u=(0,s.useRef)(null),[d,p]=(0,s.useState)(!0),[f,v]=(0,s.useState)(a),[h,b]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!a){let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(v(!0),e.disconnect())})},{rootMargin:"50px",threshold:.01});return u.current&&e.observe(u.current),()=>e.disconnect()}},[a]),(0,s.useEffect)(()=>{f&&u.current&&(null==i||i(),u.current.load(),u.current.addEventListener("canplay",()=>{p(!1),null==o||o(),u.current&&u.current.play().catch(()=>{})}),u.current.addEventListener("error",()=>{b(!0),p(!1),null==o||o()}))},[f,i,o]),(0,c.jsxs)("div",{className:"relative ".concat(l),children:[(0,c.jsx)("div",{className:"absolute inset-0 transition-opacity duration-700 ".concat(d||!f||h?"opacity-100":"opacity-0"),children:(0,c.jsx)(n.default,{src:r,alt:"Video poster",fill:!0,className:"object-cover",priority:a,quality:75})}),(0,c.jsx)("video",{ref:u,className:"w-full h-full object-cover ".concat(d||h?"invisible":"visible"),muted:!0,loop:!0,playsInline:!0,preload:"none",poster:r,children:f&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("source",{src:t,type:"video/mp4"}),(0,c.jsx)("source",{src:t.replace(".mp4",".webm"),type:"video/webm"})]})})]})}}}]);