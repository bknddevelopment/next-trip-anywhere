"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7324],{20393:(e,t,a)=>{a.d(t,{Fd:()=>n});function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//"))return e;let a=e.startsWith("/")?e:"/".concat(e);if(t&&1){let e=(window.location.pathname,"");return e?"".concat(e).concat(a):a}return a}},25016:(e,t,a)=>{a.d(t,{cn:()=>r});var n=a(2821),i=a(75889);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,n.$)(t))}},25697:(e,t,a)=>{function n(e){return!!e&&["/hero","/featured","/banner","-hero."].some(t=>e.includes(t))}function i(e){let{src:t,width:a,quality:n}=e;if(t.startsWith("http://")||t.startsWith("https://")){let e=new URL(t);return a&&e.searchParams.set("w",a.toString()),n&&e.searchParams.set("q",n.toString()),e.toString()}return!t||t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")||t.startsWith("/")?t:"/".concat(t)}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t={hero:"(max-width: 640px) 100vw, (max-width: 1024px) 90vw, 1200px",card:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 400px",full:"100vw",half:"(max-width: 768px) 100vw, 50vw",third:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw",default:"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1000px"};return t[e]||t.default}a.r(t),a.d(t,{default:()=>i,getResponsiveSizes:()=>r,shouldPrioritizeImage:()=>n})},27045:(e,t,a)=>{a.d(t,{HC:()=>o,OV:()=>s,wm:()=>l});var n=a(12115);let i={"homepage-hero-cta":{id:"homepage-hero-cta",name:"Homepage Hero CTA Test",description:"Test different CTA button text and colors on homepage hero",traffic:50,startDate:new Date("2025-01-01"),endDate:new Date("2025-03-01"),isActive:!0,targetUrl:"^/$",variants:[{id:"control",name:"Control - Current Design",traffic:50,config:{primaryCtaText:"Start Planning My Trip",primaryCtaColor:"bg-gradient-to-r from-primary-500 to-primary-600",secondaryCtaText:"Surprise Me with Deals!",secondaryCtaColor:"bg-gradient-to-r from-accent-500 to-accent-600"}},{id:"urgent",name:"Urgency Focused",traffic:50,config:{primaryCtaText:"Get Exclusive Deals Now",primaryCtaColor:"bg-gradient-to-r from-red-500 to-red-600",secondaryCtaText:"Save Up to 40% Today!",secondaryCtaColor:"bg-gradient-to-r from-orange-500 to-orange-600"}}]},"booking-form-steps":{id:"booking-form-steps",name:"Booking Form Complexity Test",description:"Test 2-step vs 3-step booking form",traffic:100,startDate:new Date("2025-01-15"),endDate:new Date("2025-04-15"),isActive:!0,variants:[{id:"three-step",name:"3-Step Form (Control)",traffic:50,config:{steps:3,collectAllInfo:!0}},{id:"two-step",name:"2-Step Simplified Form",traffic:50,config:{steps:2,collectEssentialOnly:!0}}]},"pricing-display":{id:"pricing-display",name:"Pricing Display Strategy",description:"Test different ways to display savings and pricing",traffic:75,startDate:new Date("2025-01-01"),isActive:!0,variants:[{id:"percentage",name:"Percentage Savings",traffic:33.33,config:{showPercentage:!0,showDollar:!1,emphasis:"percentage"}},{id:"dollar",name:"Dollar Amount Savings",traffic:33.33,config:{showPercentage:!1,showDollar:!0,emphasis:"dollar"}},{id:"both",name:"Both Percentage and Dollar",traffic:33.34,config:{showPercentage:!0,showDollar:!0,emphasis:"both"}}]}};class r{getUserId(){let e=localStorage.getItem("ab_user_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("ab_user_id",e)),e}loadAssignments(){let e=localStorage.getItem("ab_assignments");if(e)try{this.assignments=JSON.parse(e)}catch(e){console.warn("Failed to parse AB test assignments:",e)}}saveAssignments(){localStorage.setItem("ab_assignments",JSON.stringify(this.assignments))}shouldIncludeUser(e){if(!e.isActive)return!1;let t=new Date;if(t<e.startDate||e.endDate&&t>e.endDate)return!1;{let t=window.location.pathname;if(e.targetUrl&&!new RegExp(e.targetUrl).test(t)||e.excludeUrl&&new RegExp(e.excludeUrl).test(t))return!1}return this.hashString(this.userId+e.id)%100<e.traffic}hashString(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t&=t;return Math.abs(t)}assignVariant(e){var t;if(this.assignments[e.id])return this.assignments[e.id];let a=this.hashString(this.userId+e.id+"variant")%100,n=0;for(let t of e.variants)if(a<(n+=t.traffic))return this.assignments[e.id]=t.id,this.saveAssignments(),this.trackEvent(e.id,t.id,"assigned"),t.id;let i=(null==(t=e.variants[0])?void 0:t.id)||"control";return this.assignments[e.id]=i,this.saveAssignments(),i}getVariant(e){let t=i[e];if(!t||!this.shouldIncludeUser(t))return null;let a=this.assignVariant(t);return t.variants.find(e=>e.id===a)||null}isInVariant(e,t){let a=this.getVariant(e);return(null==a?void 0:a.id)===t}getVariantConfig(e){let t=this.getVariant(e);return(null==t?void 0:t.config)||{}}trackConversion(e,t,a,n){let i=this.getVariant(e);i&&this.trackEvent(e,i.id,t,a,n)}trackEvent(e,t,a,n,i){let r={testId:e,variantId:t,event:a,value:n,metadata:i,userId:this.userId,timestamp:new Date().toISOString(),url:window.location.href};{let e=JSON.parse(localStorage.getItem("ab_events")||"[]");e.push(r);let t=e.slice(-100);localStorage.setItem("ab_events",JSON.stringify(t))}}getActiveTests(){let e={};for(let[t,a]of Object.entries(i))if(this.shouldIncludeUser(a)){let a=this.getVariant(t);a&&(e[t]=a.id)}return e}forceVariant(e,t){this.assignments[e]=t,this.saveAssignments()}resetAssignments(){this.assignments={},localStorage.removeItem("ab_assignments")}constructor(){this.assignments={},this.userId=this.getUserId(),this.loadAssignments()}}let s=new r;function o(e){let[t,a]=(0,n.useState)(null),[i,r]=(0,n.useState)({}),[o,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let t=s.getVariant(e);a(t),r((null==t?void 0:t.config)||{}),l(!1)},[e]),{variant:t,config:i,isLoading:o,isInVariant:e=>(null==t?void 0:t.id)===e,trackConversion:(t,a,n)=>{s.trackConversion(e,t,a,n)}}}let l={PAGE_VIEW:"page_view",CTA_CLICK:"cta_click",FORM_START:"form_start",FORM_COMPLETE:"form_complete",PHONE_CLICK:"phone_click",EMAIL_CLICK:"email_click",BOOKING_STARTED:"booking_started",BOOKING_COMPLETED:"booking_completed",NEWSLETTER_SIGNUP:"newsletter_signup"}},71544:(e,t,a)=>{a.d(t,{Lx:()=>h,Ot:()=>l,Xl:()=>s,iL:()=>c,qp:()=>d,ue:()=>o});var n=a(95155),i=a(67909);let r=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:t,style:{width:"1em",height:"1em",display:"inline-block"}})},s=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.ChevronDown),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),o=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.ChevronUp),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),l=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Check),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),c=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.X),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),d=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Info),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),h=(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.HelpCircle),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0});(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Sparkles),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Star),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.MapPin),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Calendar),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Clock),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Phone),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0}),(0,i.default)(()=>Promise.all([a.e(796),a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499)]).then(a.bind(a,57378)).then(e=>e.Mail),{loadableGenerated:{webpack:()=>[57378]},loading:()=>(0,n.jsx)(r,{}),ssr:!0})},80188:(e,t,a)=>{a.d(t,{B:()=>s,U:()=>o});var n=a(95155),i=a(67909);a(12115);let r=e=>(0,i.default)(()=>Promise.all([a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499),a.e(4225),a.e(2708),a.e(3716),a.e(1268),a.e(7031),a.e(4162)]).then(a.bind(a,31322)).then(t=>t.motion[e]),{loadableGenerated:{webpack:()=>[null]},loading:()=>(0,n.jsx)(e,{}),ssr:!1}),s={div:r("div"),section:r("section"),article:r("article"),button:r("button"),header:r("header"),nav:r("nav"),ul:r("ul"),li:r("li"),a:r("a"),span:r("span"),p:r("p"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),img:r("img"),form:r("form"),input:r("input"),label:r("label"),footer:r("footer"),aside:r("aside"),main:r("main")},o=(0,i.default)(()=>Promise.all([a.e(5847),a.e(6495),a.e(8070),a.e(4633),a.e(711),a.e(6223),a.e(5549),a.e(7817),a.e(1274),a.e(5848),a.e(917),a.e(4846),a.e(8898),a.e(195),a.e(622),a.e(6662),a.e(4644),a.e(9765),a.e(1451),a.e(1865),a.e(7795),a.e(7893),a.e(1384),a.e(5655),a.e(7025),a.e(1105),a.e(1055),a.e(6875),a.e(3103),a.e(9373),a.e(5216),a.e(240),a.e(6377),a.e(6548),a.e(5302),a.e(9020),a.e(1773),a.e(8435),a.e(5093),a.e(523),a.e(204),a.e(2372),a.e(2971),a.e(9894),a.e(8912),a.e(7827),a.e(1628),a.e(403),a.e(2552),a.e(2568),a.e(1819),a.e(6499),a.e(4225),a.e(2708),a.e(3716),a.e(1268),a.e(7031),a.e(4162)]).then(a.bind(a,31322)).then(e=>e.AnimatePresence),{loadableGenerated:{webpack:()=>[null]},ssr:!1})},98901:(e,t,a)=>{a.d(t,{Ar:()=>d,jY:()=>h,oe:()=>s,qv:()=>c,sx:()=>o,yM:()=>l});var n=a(5246);class i{init(){if(this.initialized)return;let e=localStorage.getItem("nexttrip_cookie_preferences");if(e)try{if(!JSON.parse(e).analytics)return}catch(e){console.error("Error parsing cookie preferences:",e)}this.userId=localStorage.getItem("ntw_user_id")||(0,n.A)(),localStorage.setItem("ntw_user_id",this.userId),this.initScrollTracking(),this.initEngagementTracking(),this.trackPagePerformance(),this.initialized=!0}trackPageView(e){if(!this.initialized)return;let t={event:"page_view",page_title:document.title,page_location:window.location.href,page_path:e||window.location.pathname,user_id:this.userId,session_id:this.sessionId,timestamp:new Date().toISOString(),page_type:this.getPageType(),traffic_source:this.getTrafficSource(),device_info:this.getDeviceInfo()};this.pushToDataLayer(t),this.pageViewStartTime=Date.now()}trackEvent(e){if(!this.initialized)return;let t={...e,event_time:new Date().toISOString(),user_id:this.userId,session_id:this.sessionId,page_location:window.location.href,page_title:document.title};this.pushToDataLayer(t),window.gtag&&window.gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value,...e.custom_parameters})}trackConversion(e){if(!this.initialized)return;let t={...{event:"conversion",conversion_type:e.type,conversion_id:e.transaction_id||"conv_".concat(Date.now()),value:e.value,currency:e.currency||"USD",user_id:this.userId,session_id:this.sessionId,timestamp:new Date().toISOString()}};e.items&&(t.items=e.items,t.ecommerce={currency:e.currency||"USD",value:e.value||this.calculateItemsValue(e.items),items:e.items}),e.form_data&&(t.form_data=this.sanitizeFormData(e.form_data)),this.pushToDataLayer(t),this.trackConversionGoals(e.type,e.value)}trackFormInteraction(e,t,a){this.initialized&&this.trackEvent({event:"form_interaction",category:"Form",action:"".concat(e,"_").concat(t),label:e,custom_parameters:{form_name:e,form_action:t,form_fields:a?Object.keys(a).length:void 0,...a}})}trackSearch(e,t,a){this.initialized&&this.trackEvent({event:"search",category:"Search",action:"search",label:t,value:a,custom_parameters:{search_term:e,search_type:t,results_count:a}})}trackEngagement(e,t){this.initialized&&this.trackEvent({event:"engagement",category:"Engagement",action:e,value:t,custom_parameters:{engagement_time_msec:Date.now()-this.pageViewStartTime}})}initScrollTracking(){let e=0,t=[10,25,50,75,90,100],a=new Set,n=()=>{let n=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);n>e&&(e=n,t.forEach(e=>{n>=e&&!a.has(e)&&(a.add(e),this.trackEngagement("scroll_depth",e))}))};window.addEventListener("scroll",n,{passive:!0})}initEngagementTracking(){let e=Date.now(),t=0,a=!0,n=Date.now(),i=()=>{n=Date.now(),a||(e=Date.now(),a=!0)},r=()=>{a&&(t+=Date.now()-e);let n=Math.round(t/1e3);n>0&&this.trackEngagement("page_engagement_time",n)};["mousedown","mousemove","keypress","scroll","touchstart"].forEach(e=>{document.addEventListener(e,i,{passive:!0})}),setInterval(()=>{Date.now()-n>3e4&&a&&(t+=Date.now()-e,a=!1)},15e3),document.addEventListener("visibilitychange",()=>{document.hidden?a&&(t+=Date.now()-e,a=!1):(e=Date.now(),a=!0)}),window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}trackPagePerformance(){"performance"in window&&window.addEventListener("load",()=>{setTimeout(()=>{let e=performance.getEntriesByType("navigation")[0],t=performance.getEntriesByType("paint");e&&this.trackEvent({event:"page_performance",category:"Performance",action:"page_load_timing",custom_parameters:{page_load_time:Math.round(e.loadEventEnd-e.fetchStart),dom_content_loaded:Math.round(e.domContentLoadedEventEnd-e.fetchStart),first_byte:Math.round(e.responseStart-e.fetchStart)}}),t.forEach(e=>{this.trackEvent({event:"web_vitals",category:"Performance",action:e.name.replace("-","_"),value:Math.round(e.startTime)})}),"web-vital"in window&&["LCP","FID","CLS","FCP","TTFB","INP"].forEach(e=>{window["web-vital-".concat(e)]&&this.trackEvent({event:"web_vitals",category:"Performance",action:e.toLowerCase(),value:Math.round(window["web-vital-".concat(e)])})})},1e3)})}getPageType(){let e=window.location.pathname;return"/"===e?"homepage":e.startsWith("/flights")?"flights":e.startsWith("/cruises")?"cruises":e.startsWith("/packages")?"packages":e.startsWith("/from/")?"location_page":"/contact"===e?"contact":"/about"===e?"about":"other"}getTrafficSource(){let e=new URLSearchParams(window.location.search),t=document.referrer;return{utm_source:e.get("utm_source")||"",utm_medium:e.get("utm_medium")||"",utm_campaign:e.get("utm_campaign")||"",utm_term:e.get("utm_term")||"",utm_content:e.get("utm_content")||"",referrer:t||"direct",gclid:e.get("gclid")||"",fbclid:e.get("fbclid")||""}}getDeviceInfo(){return{screen_resolution:"".concat(screen.width,"x").concat(screen.height),viewport_size:"".concat(window.innerWidth,"x").concat(window.innerHeight),device_type:this.getDeviceType(),user_agent:navigator.userAgent,language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}getDeviceType(){let e=window.innerWidth;return e>=1024?"desktop":e>=768?"tablet":"mobile"}calculateItemsValue(e){return e.reduce((e,t)=>e+t.price*(t.quantity||1),0)}sanitizeFormData(e){let t=["password","ssn","credit_card","card_number","cvv","social_security"],a={};return Object.keys(e).forEach(n=>{let i=n.toLowerCase();t.some(e=>i.includes(e))?a[n]="[REDACTED]":a[n]=e[n]}),a}trackConversionGoals(e,t){window.gtag&&window.gtag("event",{lead:"generate_lead",phone_call:"contact",email:"contact",form_submit:"submit_application",booking:"purchase",quote_request:"generate_lead"}[e]||"conversion",{currency:"USD",value:t||0})}pushToDataLayer(e){window.dataLayer&&window.dataLayer.push(e)}constructor(){this.initialized=!1,this.userId=null,this.pageViewStartTime=Date.now(),this.sessionId=(0,n.A)(),this.init()}}let r=new i,s=e=>r.trackPageView(e),o=e=>r.trackEvent(e),l=e=>r.trackConversion(e),c=(e,t,a)=>r.trackFormInteraction(e,t,a),d=(e,t,a)=>r.trackSearch(e,t,a),h=(e,t)=>r.trackEngagement(e,t)}}]);