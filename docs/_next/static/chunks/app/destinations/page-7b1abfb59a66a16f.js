(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{4521:(e,s,a)=>{Promise.resolve().then(a.bind(a,5385))},5385:(e,s,a)=>{"use strict";a.d(s,{default:()=>m});var t=a(5155),l=a(2115),r=a(5239),n=a(2619),i=a.n(n),c=a(63),o=a(6651);let d=(0,a(1847).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var x=a(5229),g=a(1873),h=a(1761);function m(e){let{destinations:s,total:a,page:n,perPage:m,totalPages:u,regions:p,tags:b,currentFilters:j}=e,f=(0,c.useRouter)(),N=(0,c.useSearchParams)(),[v,y]=(0,l.useState)(j.query||""),[w,C]=(0,l.useState)(!1),[k,A]=(0,l.useState)(j.region||""),[S,P]=(0,l.useState)(j.tags||[]),_=e=>{let s=new URLSearchParams(N.toString());Object.entries(e).forEach(e=>{let[a,t]=e;null==t||""===t?s.delete(a):Array.isArray(t)?(s.delete(a),t.forEach(e=>s.append(a,e))):s.set(a,String(t))}),Object.prototype.hasOwnProperty.call(e,"page")||s.set("page","1"),f.push("/destinations?".concat(s.toString()))},E=e=>{A(e),_({region:e})},O=()=>{y(""),A(""),P([]),f.push("/destinations")},R=v||k||S.length>0;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),_({q:v})},className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Search destinations...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,t.jsxs)("button",{onClick:()=>C(!w),className:"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(d,{className:"w-5 h-5"}),"Filters",R&&(0,t.jsx)("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:+!!k+S.length})]}),R&&(0,t.jsxs)("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:[(0,t.jsx)(x.A,{className:"w-5 h-5"}),"Clear"]})]}),w&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Region"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>E(""),className:"px-4 py-2 rounded-lg border ".concat(k?"hover:bg-gray-50":"bg-blue-600 text-white border-blue-600"),children:"All Regions"}),p.map(e=>(0,t.jsx)("button",{onClick:()=>E(e),className:"px-4 py-2 rounded-lg border ".concat(k===e?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"),children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Categories"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{let s=S.includes(e)?S.filter(s=>s!==e):[...S,e];P(s),_({tags:s})})(e),className:"px-4 py-2 rounded-lg border ".concat(S.includes(e)?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"),children:e},e))})]})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",s.length," of ",a," destinations"]})}),s.length>0?(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s.map(e=>{var s,a;return(0,t.jsxs)(i(),{href:"/destinations/".concat(e.slug),className:"group bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[(0,t.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,t.jsx)(r.default,{src:(null==(s=e.heroImage)?void 0:s.url)||"/images/default-destination.jpg",alt:(null==(a=e.heroImage)?void 0:a.alt)||e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300"}),e.featured&&(0,t.jsx)("span",{className:"absolute top-4 left-4 bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Featured"})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.region?"".concat(e.region,", "):"",e.country]})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.shortDescription}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},e))}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.startingPrice?(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"From"}),(0,t.jsxs)("span",{className:"font-semibold text-green-600",children:["$",e.startingPrice]})]}):(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Contact for pricing"}),(0,t.jsx)("span",{className:"text-blue-600 text-sm font-semibold group-hover:underline",children:"View Details â†’"})]})]})]},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"No destinations found matching your criteria."}),(0,t.jsx)("button",{onClick:O,className:"mt-4 text-blue-600 hover:underline",children:"Clear filters and try again"})]}),u>1&&(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>_({page:n-1}),disabled:1===n,className:"px-4 py-2 rounded-lg ".concat(1===n?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border hover:bg-gray-50"),children:"Previous"}),(0,t.jsx)("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,u)},(e,s)=>{let a;return a=u<=5||n<=3?s+1:n>=u-2?u-4+s:n-2+s,(0,t.jsx)("button",{onClick:()=>_({page:a}),className:"px-4 py-2 rounded-lg ".concat(n===a?"bg-blue-600 text-white":"bg-white border hover:bg-gray-50"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>_({page:n+1}),disabled:n===u,className:"px-4 py-2 rounded-lg ".concat(n===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border hover:bg-gray-50"),children:"Next"})]})]})}}},e=>{e.O(0,[223,502,255,358],()=>e(e.s=4521)),_N_E=e.O()}]);